## CAP原理
分布式系统的帽子原理（CAP Theorem），指的是在一个分布式系统中，一致性、可用性、分区容错性三个要素不可兼得，只能同时满足两点。对于分布式数据系统，分区容忍性是基本要求，否则就失去了价值。因此设计分布式数据系统，就是在一致性和可用性之间取一个平衡。对于大多数web应用，其实并不需要强一致性，因此牺牲一致性而换取高可用性，是目前多数分布式数据库产品的方向。
* 一致性（C）：分布式系统中的所有数据备份，在同一时刻是否为同样的值。
    * 强一致性：更新过的数据都能被后续的访问看到
    * 弱一致性：更新过的数据全部或部分不能被后续访问看到
    * 最终一致性：一段时间以后可以访问到更新后的数据
* 可用性（A）：在集群中一部分节点故障后，集群整体是否还能相应客户端的读写请求。
* 分区容忍性（P）：以实际效果而言，分区相当于对通信的时限要求，也就是尽管网络上有部分消息丢失，但是系统仍然可以继续工作。系统如果不能在时限内达成数据一致性，就意味着发生了分区的情况，必须就当前操作在C和A之间做出选择。

CP经典框架：Zookeeper。
采用原子消息广播，是唯一使用Paxos算法来保障数据的强一致性，但是其做不到强可用性，ZK集群大的时候会出现局部崩溃等事件，所以其满足了CP，宁愿服务不对外提供数据，也不会出现提供不一致的数据，所以其架构的核心是满足CP原则。

AP经典框架：SpringCloud
