redis是一个高性能的key-value非关系型数据库。用来减轻服务器压力。

## 特点
* **支持数据的持久化**，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载使用。

* Redis不仅仅支持简单的key-value类型的数据，同时还提供**String，list，set，zset，hash**等数据结构的存储。
* Redis**支持数据的备份**，即master-slave模式的数据备份。
* **性能极高**，Redis能读的速度是110000次/s，写的速度是81000次/s 。
* 原子性，**Redis的所有操作都是原子性的**，同时Redis还支持对几个操作全并后的原子性执行。
* 其他丰富的特性，Redis还支持 publish/subscribe, 通知, 设置key有效期等等特性。

## redis中的三个可执行文件
* redis-server：Redis服务器程序
* redis-cli：Redis客户端程序，它是一个命令行操作工具。也可以使用telnet根据其纯文本协议操作。
* redis-benchmark：Redis性能测试工具，测试Redis在你的系统及配置下的读写性能。


## Redis在JavaWeb中的应用
redis在web中主要有两个应用场景：
* 存储**缓存**用的数据；
* 需要高速读/写的场合使用它**快速读/写**。

## 缓存
在日常对数据库的访问中，读操作的次数远超写操作，比例大概在 1:9 到 3:7，所以需要读的可能性是比写的可能大得多的。当我们使用SQL语句去数据库进行读写操作时，数据库就会**从磁盘把对应的数据索引取回来**，这是一个相对较慢的过程。

如果我们把数据放在 Redis 中，也就是直接放在内存之中，让服务端直接去**读取内存中的数据**，那么这样速度明显就会快上不少，并且会极大减小数据库的压力，但是使用内存进行数据存储开销也是比较大的，限于成本的原因，一般我们只是使用 Redis 存储一些**常用和主要的数据**，比如用户登录的信息等。

一般而言在使用 Redis 进行存储的时候，我们需要从以下几个方面来考虑：
* **数据是否常用和命中率**。如果数据不常用或者命中率很低，就没有必要写入缓存。
* 该数据是**读多还是写多**？如果写操作多，频繁需要写入数据库，也没有必要使用缓存；
* **数据大小**。如果要存储几百兆字节的文件，会给缓存带来很大的压力，这样也没有必要；

### redis读取过程
<br><img src=img/缓存过程.png><br>
当第一个读取数据的时候，读取redis的数据就会失败，此时程序就会读取数据库，把数据从数据库中读取出来，并写入redis中。当第二次及以后需要读取数据时，就会直接读取redis。

### redis写入过程
如果要更新数据库中的数据，更新流程如下：
<br><img src=img/redis写入.png><br>
如果要更新redis中的数据，就要先更新数据库中数据，再更新redis中的数据。相比没有redis的情况还多了一个写入redis的操作，因此，如果数据写次数远大于读的次数，就没有必要使用redis。


